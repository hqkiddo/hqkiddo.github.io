<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HQ Kiddo Game Menu</title>
    <meta
      name="description"
      content="Choose a game: Magnifying Quest or Penguin Miner."
    />
    <link rel="stylesheet" href="menu.css" />
    <link rel="icon" href="data:," />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div>
          <p class="eyebrow">HQ Kiddo</p>
          <h1>Game Menu</h1>
          <p class="subtitle">Pick a game to play.</p>
        </div>
      </header>

      <section class="theme-controls">
        <div>
          <p class="label">Background Color</p>
          <div class="theme-row">
            <input
              id="bgColorPicker"
              class="color-input"
              type="color"
              value="#0f1118"
              aria-label="Pick background color"
            />
            <button class="ghost" data-bg="#0f1118">Night</button>
            <button class="ghost" data-bg="#102a43">Ocean</button>
            <button class="ghost" data-bg="#2a1f3d">Purple</button>
            <button class="ghost" data-bg="#1b3a2b">Forest</button>
            <button class="ghost" data-bg="#3b2a1b">Desert</button>
          </div>
        </div>
      </section>

      <section class="menu-grid">
        <a class="menu-card" href="magnifying.html">
          <h2>Magnifying Quest</h2>
          <p>Find hidden objects with your magnifier and earn gems.</p>
          <span class="menu-action">Play</span>
        </a>
        <a class="menu-card" href="penguin.html">
          <h2>Penguin Miner</h2>
          <p>Mine gold, sell it, upgrade your pickaxe, and find fish.</p>
          <span class="menu-action">Play</span>
        </a>
        <a class="menu-card" href="outfit-picker/index.html">
          <h2>Outfit Picker</h2>
          <p>Your personal stylist – take photos of your clothes and get cute outfit suggestions.</p>
          <span class="menu-action">Open</span>
        </a>
      </section>

      <footer class="footer">
        <p>© 2026 Hayley H</p>
      </footer>
    </div>

    <script>
      const colorPicker = document.getElementById("bgColorPicker");
      const presetButtons = Array.from(document.querySelectorAll("[data-bg]"));
      const storageKey = "hqkiddo-menu-bg";

      function getTextColor(color) {
        const hex = color.replace("#", "");
        if (hex.length !== 6) {
          return "#f5f6fb";
        }
        const r = parseInt(hex.slice(0, 2), 16) / 255;
        const g = parseInt(hex.slice(2, 4), 16) / 255;
        const b = parseInt(hex.slice(4, 6), 16) / 255;
        const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;
        return luminance > 0.55 ? "#0f1118" : "#f5f6fb";
      }

      function applyBackground(color) {
        const textColor = getTextColor(color);
        document.documentElement.style.backgroundColor = color;
        document.body.style.backgroundColor = color;
        document.body.style.color = textColor;
        document.documentElement.style.color = textColor;
      }

      const saved = localStorage.getItem(storageKey);
      if (saved) {
        colorPicker.value = saved;
        applyBackground(saved);
      }

      colorPicker.addEventListener("input", (event) => {
        const color = event.target.value;
        applyBackground(color);
        localStorage.setItem(storageKey, color);
      });

      presetButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const color = button.dataset.bg;
          colorPicker.value = color;
          applyBackground(color);
          localStorage.setItem(storageKey, color);
        });
      });
    </script>
  </body>
</html>
